/*! Glance - v0.0.1 - 2013-02-25
* Copyright (c) 2013 ; Licensed  */
var Glance=Glance||{};(function(){Glance.init=function(){return window.localStorage&&window.JSON?(this.database(),!0):(console.log("NO"),!1)},Glance.catalog={entries:[]},Glance.entry=function(t,a){var e={};return e.pk=randomUUID(),e.title=t||"",e.description=a||"",e},Glance.database=function(){var t=localStorage.getItem("catalog");t?this.catalog=JSON.parse(t):localStorage.setItem("catalog",JSON.stringify(this.catalog)),console.log(this.catalog)},Glance.clear=function(){this.catalog&&(this.catalog.entries=[],localStorage.setItem("catalog",JSON.stringify(this.catalog)))},Glance.remove=function(t){if(t&&this.catalog){var a=_.without(this.catalog.entries,t);a.length>0&&(this.catalog.entries=a,localStorage.setItem("catalog",JSON.stringify(this.catalog)))}},Glance.add=function(t){return t&&this.catalog&&(this.catalog.entries.push(t),localStorage.setItem("catalog",JSON.stringify(this.catalog))),t},Glance.find=function(t){var a={};return t&&this.catalog&&(a=_.findWhere(this.catalog.entries,t)),a},Glance.findAll=function(){var t=[];return this.catalog?this.catalog.entries:t},Glance.init()})();